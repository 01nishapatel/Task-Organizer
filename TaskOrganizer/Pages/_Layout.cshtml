@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<!DOCTYPE html>
<html>
<head>
    <title>@ViewData["Title"] - Task Organizer</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta name="robots" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Workload : Workload Project Management Admin  Bootstrap 5 Template" />
    <meta property="og:title" content="Workload : Workload Project Management Admin  Bootstrap 5 Template" />
    <meta property="og:description" content="Workload : Workload Project Management Admin  Bootstrap 5 Template" />
    <meta property="og:image" content="https:/workload.dexignlab.com/xhtml/social-image.png" />
    <meta name="format-detection" content="telephone=no">

    <!-- PAGE TITLE HERE -->
    @*<title>Task Organizer</title>*@

    <!-- FAVICONS ICON -->
    <link rel="shortcut icon" type="image/png" href="~/Contents/images/favicon.ico" />
    <link href="~/Contents/vendor/jquery-nice-select/css/nice-select.css" rel="stylesheet">
    <link href="~/Contents/vendor/owl-carousel/owl.carousel.css" rel="stylesheet">
    <link rel="stylesheet" href="~/Contents/vendor/nouislider/nouislider.min.css">

    <!-- Style css -->
    <link href="~/Contents/css/style.css" rel="stylesheet">

    <style>


        .AvatarPhoto--color4.AvatarPhoto {
            background-color: forestgreen;
            color: white;
        }

        .ProfilePageHeader-avatar {
            flex-shrink: 0;
        }

        .Avatar {
            align-items: center;
            background: lightGray;
            border-radius: 50%;
            box-shadow: inset 0 0 0 1px rgb(0 0 0 / 7%);
            box-sizing: border-box;
            color: #fff;
            -webkit-print-color-adjust: exact;
            color-adjust: exact;
            display: inline-flex;
            justify-content: center;
            position: relative;
            vertical-align: top;
        }

        .AvatarPhoto--xlarge {
            font-size: 16px;
            height: 48px;
            line-height: 48px;
            min-width: 48px;
            width: 48px;
        }

        .AvatarPhoto--default {
            background: center/cover var(--color-customization-background-deprecated-opaque);
            border-radius: 50%;
            box-shadow: inset 0 0 0 1px rgb(0 0 0 / 7%);
            box-sizing: border-box;
            color: var(--color-customization-foreground);
        }

        .AvatarPhoto {
            align-items: center;
            display: inline-flex;
            justify-content: center;
            position: relative;
            vertical-align: top;
        }

    </style>

</head>
<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="lds-ripple">
            <div></div>
            <div></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->
    <!--**********************************
        Main wrapper start
    ***********************************-->

    <div class="nav-header">
        <a href="~/Project/AllProject" class="brand-logo">
            <svg class="logo-abbr" width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect class="react-logo" width="60" height="60" rx="30" fill="#00A15D" />

                <mask id="mask0" style="mask:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="60" height="60">
                    <rect class="react-logo" width="60" height="60" rx="30" fill="#00A15D" />
                </mask>
                <g mask="url(#mask0)">
                    <path d="M130 51.3929L126.5 45.2109C123 38.9626 116 26.6981 109 23.1017C102 19.5715 95 24.875 88 29.3002C81 33.6591 74 37.3053 67 39.0124C60 40.7857 53 40.7857 46 36.3606C39 32.0017 32 23.0519 25 17.7981C18 12.4448 11 10.7874 4 16.9197C-3 23.0519 -10 37.3053 -17 40.7857C-24 44.2662 -31 37.3053 -34.5 33.7088L-38 30.1786V62H-34.5C-31 62 -24 62 -17 62C-10 62 -3 62 4 62C11 62 18 62 25 62C32 62 39 62 46 62C53 62 60 62 67 62C74 62 81 62 88 62C95 62 102 62 109 62C116 62 123 62 126.5 62H130V51.3929Z" fill="url(#paint0_linear)" />
                    <path d="M-54 55.7741L-50.5 50.9799C-47 46.1343 -40 36.623 -33 33.8339C-26 31.0962 -19 35.2092 -12 38.641C-5 42.0213 2 44.849 9 46.1728C16 47.5481 23 47.5481 30 44.1164C37 40.736 44 33.7954 51 29.721C58 25.5694 65 24.2841 72 29.0398C79 33.7954 86 44.849 93 47.5481C100 50.2473 107 44.849 110.5 42.0599L114 39.3222V64H110.5C107 64 100 64 93 64C86 64 79 64 72 64C65 64 58 64 51 64C44 64 37 64 30 64C23 64 16 64 9 64C2 64 -5 64 -12 64C-19 64 -26 64 -33 64C-40 64 -47 64 -50.5 64H-54V55.7741Z" fill="url(#paint1_linear)" />
                </g>
                <defs>
                    <linearGradient id="paint0_linear" x1="46" y1="13" x2="46" y2="62" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#23D58A" />
                        <stop offset="1" stop-color="#00A15D" />
                    </linearGradient>
                    <linearGradient id="paint1_linear" x1="30" y1="26" x2="30" y2="64" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#FFED4B" />
                        <stop offset="1" stop-color="#FF8C4B" />
                    </linearGradient>
                </defs>
            </svg>

            <div class="brand-title">
                <h2 class=""><span>Task</span>Organizer</h2>
                <span class="brand-sub-title">Arrange Ur Task</span>
            </div>
        </a>
        <div class="nav-control">
            <div class="hamburger">
                <span class="line"></span><span class="line"></span><span class="line"></span>
            </div>
        </div>
    </div>
    <!--**********************************
        Nav header end
    ***********************************-->
    <!--**********************************
        Header start
    ***********************************-->
    <div class="header border-bottom">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">
                        <div class="dashboard_bar">
                            @ViewData["headertitle"]
                        </div>
                    </div>
                    <ul class="navbar-nav header-right">
                        <li class="nav-item dropdown header-profile">
                            <a class="nav-link" role="button" data-bs-toggle="dropdown">
                                <div class="ProfilePageHeader-avatar Avatar AvatarPhoto AvatarPhoto--default AvatarPhoto--xlarge AvatarPhoto--color4" role="img">
                                    <div aria-hidden="true">
                                        @HttpContextAccessor.HttpContext.Session.GetString("labelname")
                                    </div>
                                </div>
                                <div class="header-info ms-3">
                                    <span class="fs-18 font-w500 mb-2">@HttpContextAccessor.HttpContext.Session.GetString("UserName")</span>
                                    <small class="fs-12 font-w400">@HttpContextAccessor.HttpContext.Session.GetString("UserEmail")</small>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a class="dropdown-item ai-icon" asp-action="UserProfile" asp-controller="Account" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("UserId")">
                                    <svg id="icon-user1" class="text-primary" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                    <span class="ms-2">Profile </span>
                                </a>
                                <a class="dropdown-item ai-icon" onclick="Logout()">
                                    <svg id="icon-logout" class="text-danger" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                                    <span class="ms-2">Logout </span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <!--**********************************
        Header end ti-comment-alt
    ***********************************-->
    <!--**********************************
        Sidebar start
    ***********************************-->
    <div class="dlabnav">
        <div class="dlabnav-scroll">
            <ul class="metismenu" id="menu">

                @{
                    var s = @HttpContextAccessor.HttpContext.Session.GetInt32("UserType");
                    var ad = @HttpContextAccessor.HttpContext.Session.GetString("isAd");
                }
                @if (ad == "True")
                {
                    @if (@ViewData["Title"] == "AllMember" || @ViewData["Title"] == "UserDashBoard")
                    {
                        <li>
                            <a class="has-arrow " href="javascript:void()" aria-expanded="false">
                                <i class="fas fa-users"></i>
                                <span class="nav-text">Members</span>
                            </a>
                            <ul aria-expanded="false">
                                <li><a asp-controller="Account" asp-action="AllMember" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("projjid")">All Member</a></li>
                                <li><a asp-controller="Account" asp-action="AddMember" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("projjid")">Add Member</a></li>
                            </ul>
                        </li>
                      @*  <li>
                            <a href="~/Task/AddTask" class="" aria-expanded="false">
                                <i class="fas fa-check"></i>
                                <span class="nav-text">Add Task</span>
                            </a>
                        </li>*@
                    }
                    <li>
                        <a class="has-arrow " href="javascript:void()" aria-expanded="false">
                            <i class="fas fa-users"></i>
                            <span class="nav-text">Users</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="~/Account/AllUser">All User</a></li>
                            <li><a href="~/Account/Register">Add User</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="~/Project/AllProject" class="" aria-expanded="false">
                            <i class="fas fa-clone"></i>
                            <span class="nav-text">All Project</span>
                        </a>
                    </li>
                    <li>
                        <a asp-controller="Project" asp-action="AdminCalender" aria-expanded="false">
                            <i class="fas fa-calendar"></i>
                            <span class="nav-text">Calendar</span>
                        </a>
                    </li>
                }
                else
                {
                    @if (s == 0 || s == 1 || s == 2)
                    {
                        if (@ViewData["Title"] != "AllProject")
                        {
                            <li>
                                <a class="has-arrow " href="javascript:void()" aria-expanded="false">
                                    <i class="fas fa-tasks"></i>
                                    <span class="nav-text">Project</span>
                                </a>
                                <ul aria-expanded="false">
                                    <li><a asp-controller="Project" asp-action="Board" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("ProjId")">Board</a></li>
                                    <li><a asp-controller="Project" asp-action="UserDashBoard" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("ProjId")" asp-route-uid="@HttpContextAccessor.HttpContext.Session.GetInt32("UserId")">DashBoard</a></li>
                                </ul>

                            </li>
                            <li>
                                <a asp-controller="Project" asp-action="Calender" asp-route-id="@HttpContextAccessor.HttpContext.Session.GetInt32("ProjId")" aria-expanded="false">
                                    <i class="fas fa-calendar"></i>
                                    <span class="nav-text">Calendar</span>
                                </a>
                            </li>
                            @if (s != 2)
                            {
                                <li>
                                    <a href="~/Task/AddTask" class="" aria-expanded="false">
                                        <i class="fas fa-check"></i>
                                        <span class="nav-text">Add Task</span>
                                    </a>
                                </li>
                            }
                        }
                    }
                    <li>
                        <a href="~/Project/AllProject" class="" aria-expanded="false">
                            <i class="fas fa-clone"></i>
                            <span class="nav-text">All Project</span>
                        </a>
                    </li>
                }
            </ul>
        </div>
    </div>
    <!--**********************************
        Sidebar end
    ***********************************-->
    <!--**********************************
                Content body start
    ***********************************-->
    <div>
        <!--Success Model Popup Start-->
        <div id="myModalSuccess" class="modal fade text-width:25% text-height:25%" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Information</h5>
                        <button type="button" style="border:0;font-size:20px;color:gray" class="close" data-bs-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                        </button>

                    </div>

                    <div id="MyModalSuccessAlertBody" class="modal-body">
                        <p style="color:green">this is a modal body,our message will appear here.</p>
                    </div>

                    <div class="model-footer">
                        &nbsp;
                        <button type="button" align="center" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!--Success Model Popup End-->
        @RenderBody()
    </div>


    <script type="text/javascript">
        function Logout() {

            $.get(window.location.origin + "/Account/logout?n=1", null, callback)
        }

        function callback() {
            window.location.reload();
        }
        if (result.code === 1) {
            window.location = 'login.cshtml'
        }

    </script>


    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="~/Contents/vendor/global/global.min.js"></script>
    <script src="~/Contents/vendor/jquery-nice-select/js/jquery.nice-select.min.js"></script>
    <!-- Board js-->
    <script src="~/Contents/js/custom.js"></script>
    <script src="~/Contents/js/custom.min.js"></script>
    <script src="~/Contents/js/dlabnav-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>

    @RenderSection("Scripts", required: false)
</body>
</html>
